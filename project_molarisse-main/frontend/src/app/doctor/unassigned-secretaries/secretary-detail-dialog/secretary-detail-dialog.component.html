<div class="secretary-dialog-container" @dialogAnimation>
  <div class="dialog-header">
    <div class="profile-section">
      <div class="profile-image">
        <img [src]="data.secretary.profilePicturePath ? 
                   '/api/v1/users/profile/picture/' + data.secretary.profilePicturePath : 
                   'assets/images/default-avatar.png'" 
             alt="Profile" 
             onerror="this.src='assets/images/default-avatar.png'">
      </div>
      <div class="profile-info">
        <h2>{{ data.secretary.prenom }} {{ data.secretary.nom }}</h2>
        <p class="subtitle">Secrétaire Médicale</p>
      </div>
    </div>
    <button mat-icon-button class="close-button" (click)="close()">
      <mat-icon>close</mat-icon>
    </button>
  </div>

  <mat-divider></mat-divider>

  <div class="dialog-content">
    <h3>Informations personnelles</h3>
    <div class="info-section">
      <div class="info-item">
        <mat-icon>email</mat-icon>
        <span>{{ data.secretary.email }}</span>
      </div>
      
      <div class="info-item" *ngIf="data.secretary.phoneNumber">
        <mat-icon>phone</mat-icon>
        <span>{{ data.secretary.phoneNumber }}</span>
      </div>
      
      <div class="info-item" *ngIf="data.secretary.dateNaissance">
        <mat-icon>cake</mat-icon>
        <span>{{ formatDate(data.secretary.dateNaissance) }}</span>
      </div>
      
      <div class="info-item" *ngIf="data.secretary.address">
        <mat-icon>location_on</mat-icon>
        <span>{{ data.secretary.address }}</span>
      </div>
    </div>

    <div class="document-section" *ngIf="data.secretary.cvFilePath">
      <h3>Documents</h3>
      <div class="document-item">
        <mat-icon>description</mat-icon>
        <span>CV du secrétaire</span>
        <button mat-button color="primary" (click)="viewCV()">
          <mat-icon>visibility</mat-icon>
          Voir CV
        </button>
      </div>
    </div>
  </div>

  <mat-divider></mat-divider>

  <div class="dialog-actions">
    <button mat-button (click)="close()">Annuler</button>
    <button mat-raised-button color="primary" (click)="assign()">
      <mat-icon>person_add</mat-icon>
      Assigner cette secrétaire
    </button>
  </div>
</div> 